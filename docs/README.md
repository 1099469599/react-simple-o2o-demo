# 商户详情页面的开发

介绍商户详情页面的开发过程。

## 为每个商户增加 ID 并做跳转链接

在 Mock 数据，为每个商户都加一个不重复的ID（如使用随机数），然后在`./app/components/List/Item`中做跳转，路由规则参见源码的配置，比较简单。

## 页面开发

### 页面整体分析

根据UE设计图，页面除了header之外，大致可以分为2个模块————商户信息介绍、用户点评。header可以直接引入组件（因为不涉及数据），而其他2个模块可以分成2个 subpage 分别获取并展示数据。

### 引用`Header`组件

Header直接引用`./app/components/Header`即可，传入相应的参数。

### 页面的模块

在 subpage 目录下新建2个子页面，即页面的2个模块——`Info`和`Comment`，具体看源码。需要注意的几点：

- `Info` 里面有一个细节，即“星号”可以做成一个单独的组件，因此其他地方会用到，虽然它非常小
- `Comment` 是下拉加载刷新的，在此前的页面中已经实现过两次，直接看源码即可


## 其他

### 模拟数据

由于服务端的API和返回的数据是模拟的，因此针对所有的商户，我们用一套数据演示效果就可以了。但是你要保证调用API接口时，传到后台的参数要是正确的，后端人员只要能拿到正确的参数，就可以提供正确的数据，这里前端人员不必关心。

### 模拟购买流程

要实现真实的购买流程，需要后端和第三方接口的技术支持，不仅讲述起来复杂，而且也不是每个人都需要。再者购买流程和 React 技术本身没有关系，因此这里就模拟一个购买流程。

### 关于功能

诸如大众点评、美团、糯米等真实的O2O应用，商户的信息会非常丰富，而且会根据不同的商户类型（KTV、团购、自助餐等）做不同类型的模板页面。而本教程的目的是在最短的时间内，用一个demo把 React 技术讲明白，让学习者能够做大举一反三即算成功。因此，不会做的像真实的app那么详细。
