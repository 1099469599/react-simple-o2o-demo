# 登录页面的开发

介绍登录页面的开发过程。

## 创建页面 & 配置路由

登录页面的路由配置这样配置`<Route path='/Login(/:router)' component={Login}/>`，其中有一个可选的`(/:router)`参数。例如，我们在未登录的情况下，进入详情页然后点击“购买”按钮，此时要先跳转到登录页面，登录之后立即跳转到之前的详情页（而不是默认跳转到用户主页），参与的意义在这里。

再创建一个`./app/containers/Login`页面。

## 开发页面和组件

首先，引用`Header`组件作为头部，让用户可以返回首页。

另外，页面加载的时候，不是一上来就显示登录的表单，而是先做一个判断，万一用户刚刚已经登录过了，那么就不用再重新登录了，直接进入目标页面即可。这里我们用一个`this.state.checking`来控制，先将其设置为`true`，然后在`componentDidMount`中验证用户是否登录，如果登录即跳转到目标页面，如果未登录即再其设置为`false`，此时再显示登录表单。

显示了登录表单之后，`Login`页面还需要定义登录之后怎么办。第一，需要将用户名信息存储起来，使用 Redux 管理，这样只要不刷新页面就不用再重新登录；第二，跳转到目标页面（默认跳转到用户主页，或者跳转到`router`参数指定的页面）

显示登录表单的工作交给`./app/components/Login`组件来做。这里再次体会**智能组件**和**木偶组件**的区别。

## 模拟登录说明

其实这个登录是模拟的，即没有真正的用到往手机号发送验证码然后验证登录的功能，因为这部分需要后端程序配合完成，我们只是一个前端教程、React教程。此外，这块技术和 React 框架本身没有关系，因此不会作为本教程的重点，因此模拟一下效果即可。
